<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="600" viewBox="0 0 1100 600">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#555" />
    </marker>
    <style><![CDATA[
      .box{fill:#fff;stroke:#444;stroke-width:2;rx:8;ry:8}
      .label{font:400 14px sans-serif; fill:#222}
      .title{font:700 18px sans-serif; fill:#222}
    ]]></style>
  </defs>

  <text class="title" x="40" y="40">DEM Extraction Flow</text>

  <rect class="box" x="40" y="80" width="320" height="60"/>
  <text class="label" x="60" y="115">catchment_geojson (EPSG:2056)</text>

  <rect class="box" x="400" y="80" width="320" height="60"/>
  <text class="label" x="420" y="115">Union polygons & bounds</text>

  <rect class="box" x="760" y="80" width="320" height="60"/>
  <text class="label" x="780" y="115">Open DEM: geotiffminusriver.tif</text>

  <line x1="360" y1="110" x2="400" y2="110" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="720" y1="110" x2="760" y2="110" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <rect class="box" x="40" y="200" width="320" height="60"/>
  <text class="label" x="60" y="235">CRS compare / transform if needed</text>

  <rect class="box" x="400" y="200" width="320" height="60"/>
  <text class="label" x="420" y="235">Windowed DEM read</text>

  <rect class="box" x="760" y="200" width="320" height="60"/>
  <text class="label" x="780" y="235">Mask outside catchment</text>

  <line x1="200" y1="140" x2="200" y2="200" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="560" y1="140" x2="560" y2="200" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="920" y1="140" x2="920" y2="200" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <rect class="box" x="400" y="320" width="320" height="60"/>
  <text class="label" x="420" y="355">Write data/{userId}/{projectId}/dem.tif</text>

  <line x1="920" y1="260" x2="560" y2="320" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
</svg>

