<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="820" viewBox="0 0 1200 820">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#555" />
    </marker>
    <style><![CDATA[
      .box{fill:#fff;stroke:#444;stroke-width:2;rx:8;ry:8}
      .label{font:400 14px sans-serif; fill:#222}
      .title{font:700 18px sans-serif; fill:#222}
    ]]></style>
  </defs>

  <text class="title" x="40" y="40">Routing Preprocessing: Isozones & Time Values</text>

  <rect class="box" x="40" y="80" width="340" height="60"/>
  <text class="label" x="60" y="115">DEM: data/geotiffminusriver.tif (subset)</text>

  <rect class="box" x="420" y="80" width="300" height="60"/>
  <text class="label" x="440" y="115">Fill pits → depressions → flats</text>

  <rect class="box" x="760" y="80" width="340" height="60"/>
  <text class="label" x="780" y="115">Flow direction & accumulation</text>

  <line x1="380" y1="110" x2="420" y2="110" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="720" y1="110" x2="760" y2="110" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <rect class="box" x="40" y="180" width="340" height="60"/>
  <text class="label" x="60" y="215">Snap outlet (a_crit) & delineate catchment</text>

  <rect class="box" x="420" y="180" width="300" height="60"/>
  <text class="label" x="440" y="215">Clip to catchment</text>

  <rect class="box" x="760" y="180" width="340" height="60"/>
  <text class="label" x="780" y="215">Slope + Forest overlay → obstacle layer</text>

  <line x1="200" y1="140" x2="200" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="570" y1="140" x2="570" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="930" y1="140" x2="930" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <rect class="box" x="40" y="300" width="340" height="60"/>
  <text class="label" x="60" y="335">Distance to outlet (weighted)</text>

  <rect class="box" x="420" y="300" width="300" height="60"/>
  <text class="label" x="440" y="335">Raw time values (minutes)</text>

  <rect class="box" x="760" y="300" width="340" height="60"/>
  <text class="label" x="780" y="335">Discretize to 10-min classes</text>

  <line x1="200" y1="240" x2="200" y2="300" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="570" y1="240" x2="570" y2="300" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="930" y1="240" x2="930" y2="300" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <rect class="box" x="40" y="420" width="340" height="60"/>
  <text class="label" x="60" y="455">Write time_values.tif</text>

  <rect class="box" x="420" y="420" width="300" height="60"/>
  <text class="label" x="440" y="455">Write isozones_cog.tif</text>

  <line x1="570" y1="360" x2="210" y2="420" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="930" y1="360" x2="570" y2="420" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
</svg>

