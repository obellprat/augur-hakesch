<svg xmlns="http://www.w3.org/2000/svg" width="900" height="480" viewBox="0 0 900 480">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#555" />
    </marker>
    <style><![CDATA[
      .box{fill:#fff;stroke:#444;stroke-width:2;rx:8;ry:8}
      .label{font:400 14px sans-serif; fill:#222}
      .title{font:700 18px sans-serif; fill:#222}
    ]]></style>
  </defs>

  <text class="title" x="40" y="40">NAM Routing Decision</text>

  <rect class="box" x="40" y="80" width="260" height="60"/>
  <text class="label" x="60" y="115">routing_method</text>

  <rect class="box" x="360" y="60" width="220" height="60"/>
  <text class="label" x="380" y="95">travel_time</text>

  <rect class="box" x="360" y="150" width="220" height="60"/>
  <text class="label" x="380" y="185">isozone</text>

  <rect class="box" x="360" y="240" width="220" height="60"/>
  <text class="label" x="380" y="275">time_values</text>

  <line x1="300" y1="110" x2="360" y2="90" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="300" y1="110" x2="360" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="300" y1="110" x2="360" y2="270" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- travel_time branch -->
  <rect class="box" x="620" y="60" width="240" height="60"/>
  <text class="label" x="640" y="95">DEM available?</text>
  <rect class="box" x="620" y="140" width="240" height="60"/>
  <text class="label" x="640" y="175">Yes → overland speeds</text>
  <rect class="box" x="620" y="220" width="240" height="60"/>
  <text class="label" x="640" y="255">No → constant velocity</text>
  <line x1="580" y1="90" x2="620" y2="90" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="740" y1="120" x2="740" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="740" y1="120" x2="740" y2="220" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- isozone branch -->
  <rect class="box" x="620" y="150" width="240" height="60"/>
  <text class="label" x="630" y="185">arrival = zone index</text>
  <line x1="580" y1="180" x2="620" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- time_values branch -->
  <rect class="box" x="620" y="240" width="240" height="60"/>
  <text class="label" x="630" y="275">arrival = round(time/dt)</text>
  <line x1="580" y1="270" x2="620" y2="270" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
</svg>

